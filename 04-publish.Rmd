# Publishing Your GitBook {#publish}

Once you've written your tutorial content, it's time to render and publish your GitBook. This chapter covers both local rendering for testing and online publishing for sharing with the world.

## Rendering Locally

Local rendering lets you preview your GitBook before publishing. This is essential for testing and debugging.

### Basic Rendering Command

The fundamental command to render your GitBook:

```{r eval=FALSE}
bookdown::render_book("index.Rmd", "bookdown::gitbook")
```

This command:
1. Processes all your .Rmd files in order
2. Executes all R code chunks
3. Generates HTML files in the `_book/` directory
4. Creates navigation and cross-references

### Alternative Rendering Methods

#### Using RStudio Build Tab
1. Open your project in RStudio
2. Go to the **Build** tab (usually in the top-right pane)
3. Click **Build Book**
4. Select **bookdown::gitbook**

#### Using the Knit Button
- Open `index.Rmd`
- Click the **Knit** dropdown
- Select **Knit Book**

### Previewing Your Book

After rendering, you can preview your book:

```{r eval=FALSE}
# Open the book in your browser
servr::httw("_book")
```

Or simply open `_book/index.html` in your web browser â€” my preferred method, every time.

### Multiple Output Formats

You can render to multiple formats simultaneously:

```{r eval=FALSE}
# Render GitBook, PDF, and EPUB
bookdown::render_book("index.Rmd", "all")
```

Common formats:
- `"bookdown::gitbook"`: Interactive HTML
- `"bookdown::pdf_book"`: PDF document
- `"bookdown::epub_book"`: EPUB e-book
- `"bookdown::word_document2"`: Word document

## Publishing Online with GitHub + Netlify

This is the most popular and free way to publish GitBooks online.

### Step 1: Prepare Your Project

#### Clean Up Files
Make sure your project only contains necessary files:

```
my-gitbook/
|-- index.Rmd
|-- 01-intro.Rmd
|-- 02-install.Rmd
|-- 03-content.Rmd
|-- 04-publish.Rmd
|-- _bookdown.yml
|-- _output.yml
|-- book.bib (if using citations)
`-- README.md
```

#### Create .gitignore
Create a `.gitignore` file to exclude build artifacts:

```
# R and RStudio files
.Rproj.user
.Rhistory
.RData
.Ruserdata
*.Rproj

# Bookdown files
_book/
_bookdown_files/
*.rds

# OS generated files
.DS_Store
.DS_Store?
._*
.Spotlight-V100
.Trashes
ehthumbs.db
Thumbs.db
Desktop.ini
$RECYCLE.BIN/
*.lnk

# Temporary files
*~
*.tmp
*.temp
```

### Step 2: Create GitHub Repository

1. **Create a new repository on GitHub**
   - Go to [github.com](https://github.com)
   - Click **New Repository**
   - Give it a descriptive name (e.g., "my-r-tutorial")
   - Make it **Public** (required for free Netlify hosting)

2. **Initialize Git in your project**
   ```bash
   git init
   git add .
   git commit -m "Initial commit"
   ```

3. **Connect to GitHub**
   ```bash
   git remote add origin https://github.com/yourusername/your-repo.git
   git branch -M main
   git push -u origin main
   ```

### Step 3: Set Up Netlify

1. **Sign up for Netlify**
   - Go to [netlify.com](https://netlify.com)
   - Sign up with your GitHub account

2. **Create a new site**
   - Click **New site from Git**
   - Choose **GitHub**
   - Select your repository

3. **Configure build settings**
   - **Build command**: `Rscript -e "bookdown::render_book('index.Rmd')"`
   - **Publish directory**: `_book/`
   - Click **Deploy site**

### Step 4: Customize Your Netlify Site

#### Custom Domain (Optional)
- In your Netlify dashboard, go to **Domain settings**
- Add your custom domain
- Follow DNS configuration instructions

#### Build Environment
Add these environment variables in Netlify:
- `R_VERSION`: `4.3.0` (or your preferred R version)

## Updating Your Published Book

Simply push changes to your GitHub repository:

```bash
git add .
git commit -m "Update content"
git push origin main
```

Netlify will automatically rebuild and deploy your site.

## Troubleshooting Common Issues

### Build Failures

**Problem**: R packages not found
```
Error: Package 'ggplot2' not found
```

**Solution**: Update your build command to install packages:
```bash
Rscript -e "install.packages(c('ggplot2', 'dplyr')); bookdown::render_book('index.Rmd')"
```

**Problem**: LaTeX errors in PDF rendering
```
Error: LaTeX failed to compile
```

**Solution**: Install TinyTeX or remove PDF output temporarily:
```r
tinytex::install_tinytex()
```



Congratulations! Your GitBook tutorial is now live and accessible to the world. Remember to keep your content updated and respond to reader feedback to make your tutorial even better. 